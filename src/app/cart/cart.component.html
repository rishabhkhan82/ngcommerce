<div class="notifications py-5 pt-4 pt-sm-5 mt-2 mt-sm-0">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <h2 class="mb-4">Shopping Cart</h2>
        <div class="row">
          <div class="col-lg-8">
            <div class="table-cont shadow table-responsive">
              <table class="table">
                <thead class="border-bottom">
                  <th class="p-4"><h6 class="mb-0 p-0">Sr.no</h6></th>
                  <th class="p-4"><h6 class="mb-0 p-0">Product name</h6></th>
                  <th class="p-4"><h6 class="mb-0 p-0">Image</h6></th>
                  <th class="p-4"><h6 class="mb-0 p-0">Quantity</h6></th>
                  <th class="p-4"><h6 class="mb-0 p-0">Price</h6></th>
                </thead>
                <tbody>
                  <!-- <ng-container *ngIf="loader">
                    <tr class="" *ngFor="let item of orderLoader">
                      <td class="p-4 ms-auto text-end" colspan="5">
                        <ngx-skeleton-loader count="1" appearance="line"  [theme]="{'width': '100%', 'height.px': 20,'margin.px': 0}"></ngx-skeleton-loader>
                      </td>
                    </tr>
                  </ng-container> -->
                  <ng-container>
                    <tr class="" *ngFor="let item of cartArray;index as i" >
                      <td scope="row" class="p-4"><h6 class="mb-0">{{i + 1}}</h6></td>
                      <td class="p-4"><h6 class="mb-0"><a [routerLink]="['/product', item.productId]" class="text-dark">{{item.title}}</a></h6></td>
                      <td class="px-4 py-2"><img src="{{item.productUrl}}" alt="no-img" class="img-fluid"></td>
                      <td class="p-4"><h6 class="mb-0">{{item.quantity}}</h6></td>
                      <td class="p-4"><h6 class="mb-0">₹{{item.price}}</h6></td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
              <ng-container>
                <p *ngIf="cartArrayLength == 0" class="px-4">Your Cart is empty! <a routerLink="/product/search" class="text-danger">Shop Now</a></p>
              </ng-container>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="cart-right shadow p-4 mt-4 mt-lg-0">
              <h5 class="mb-3">Have Counpon Code? Apply it down.</h5>
              <form action="">
                <div>
                  <div class="input-group mb-2 shadow-sm" style="height: 50px;">
                    <span class="input-group-text rounded-0 border-0 px-3 bg-white" id="basic-addon1"><i class="fa-solid fa-envelope"></i></span>
                    <input type="email" class="form-control rounded-0 border-0 shadow-none" placeholder="Enter Coupon Code" aria-label="Username" aria-describedby="basic-addon1" style="background-color: white;">
                  </div>
                  <div class="">
                    <button type="submit" class="btn btn-primary mt-2 w-100 rounded-0" style="height: 50px;">Apply Coupon Code</button>
                  </div>
                </div>
              </form>
              <hr class="divider my-4" style="background-color: black; opacity: 0.5">
              <div>
                <table class="table">
                  <tbody>
                    <tr>
                      <th scope="col"><h6>Price</h6></th>
                      <td scope="col" class="text-end">₹{{price}}</td>
                    </tr>
                    <tr>
                      <th scope="col"><h6>Tax</h6></th>
                      <td scope="col" class="text-end">+₹{{this.tax}}</td>
                    </tr>
                    <tr>
                      <th scope="col"><h6>Coupon Applied</h6></th>
                      <td scope="col" class="text-end">-₹0.00</td>
                    </tr>
                    <tr>
                      <th scope="col"><h6>Total Price</h6></th>
                      <td scope="col" class="text-end">₹{{totalPrice}}</td>
                    </tr>
                  </tbody>
                </table>
                <ng-container *ngIf="checkoutStatus">
                  <form [formGroup]="addressForm" (ngSubmit)="onOrder()">

                    <div class="mb-2">
                      <textarea formControlName="address" placeholder="Please enter address to continue" class="w-100 form-control" rows="4"></textarea>
                      <p class="form-error text-danger mt-2 mb-0" *ngIf="!addressForm?.get('address')?.valid && addressForm?.get('address')?.touched || submitted && addressForm?.get('address')?.invalid">
                        address is required
                      </p>
                    </div>
                    
                    <button type="submit" class="btn btn-primary mt-2 w-100 rounded-0" style="height: 50px;">Order Now</button>
                  </form>
                </ng-container>
                <button type="button" (click)="onCheckClik()" class="btn btn-dark mt-2 w-100 rounded-0" style="height: 50px;">{{checkoutStatus? 'Cancel' : 'Checkout'}}</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 